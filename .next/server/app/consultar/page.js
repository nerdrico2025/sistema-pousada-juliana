(()=>{var e={};e.id=388,e.ids=[388],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1672:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d}),a(9856),a(1506),a(5866);var t=a(3191),l=a(8716),r=a(7922),i=a.n(r),n=a(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["consultar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9856)),"/home/project/app/consultar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"/home/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/project/app/consultar/page.tsx"],x="/consultar/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/consultar/page",pathname:"/consultar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8481:(e,s,a)=>{Promise.resolve().then(a.bind(a,2257))},9763:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},2814:()=>{},2257:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>g});var t=a(326),l=a(7577),r=a(4891),i=a(8307),n=a(9635),c=a(2881);let d=(0,c.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),o=(0,c.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var x=a(7358),m=a(2685),h=a(9819),p=a(5047),u=a(434);function y(){let e=(0,p.useSearchParams)(),[s,a]=(0,l.useState)(e?.get("q")||""),[c,y]=(0,l.useState)([]),[g,j]=(0,l.useState)(null),[b,N]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),w=async e=>{let a=e||s;if(a.trim()){N(!0),v(!0);try{let e=await fetch(`/api/guests/search?q=${encodeURIComponent(a.trim())}`);if(e.ok){let s=await e.json();y(s)}else y([])}catch(e){console.error("Erro ao buscar h\xf3spedes:",e),y([])}finally{N(!1)}}},k=e=>new Date(e).toLocaleDateString("pt-BR"),P=e=>e.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3");return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:[t.jsx(i.Z,{className:"inline-block mr-3 h-8 w-8 text-blue-600"}),"Consultar H\xf3spedes"]}),t.jsx("p",{className:"text-gray-600",children:"Busque por nome completo ou email"})]}),t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-6",children:(0,t.jsxs)("div",{className:"flex space-x-4",children:[t.jsx("input",{type:"text",placeholder:"Digite o nome completo ou email do h\xf3spede...",value:s,onChange:e=>a(e.target.value),onKeyPress:e=>{"Enter"===e.key&&w()},className:"flex-1 px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),t.jsx("button",{onClick:()=>w(),disabled:!s.trim()||b,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:b?"Buscando...":"Buscar"})]})}),f&&t.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:0===c.length?(0,t.jsxs)("div",{className:"text-center bg-white rounded-2xl shadow-lg p-8",children:[t.jsx(n.Z,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum h\xf3spede encontrado"}),t.jsx("p",{className:"text-gray-500",children:"Tente buscar por outro nome ou email"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:[c.length," h\xf3spede",c.length>1?"s":""," encontrado",c.length>1?"s":""]}),t.jsx("div",{className:"grid gap-4",children:c.map((e,s)=>t.jsx(r.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*s},className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 p-6 cursor-pointer border border-gray-100",onClick:()=>j(e),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:e.nomeCompleto}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(d,{className:"h-4 w-4"}),t.jsx("span",{children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(o,{className:"h-4 w-4"}),t.jsx("span",{children:P(e.telefone)})]}),e.lastStay?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["\xdaltima entrada: ",k(e.lastStay.dataEntrada)]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx(x.Z,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:["\xdaltima sa\xedda: ",k(e.lastStay.dataSaida)]})]})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2 md:col-span-2",children:[t.jsx(x.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"text-gray-500",children:"Nenhuma estadia registrada"})]})]})]}),t.jsx("div",{className:"text-blue-600",children:t.jsx("span",{className:"text-sm font-medium",children:"Ver detalhes →"})})]})},e.id))})]})}),g&&t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>j(null),children:t.jsx(r.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Detalhes do H\xf3spede"}),t.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nome Completo"}),t.jsx("p",{className:"text-gray-800 font-semibold",children:g.nomeCompleto})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"CPF"}),t.jsx("p",{className:"text-gray-800",children:g.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),t.jsx("p",{className:"text-gray-800",children:g.email})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefone"}),t.jsx("p",{className:"text-gray-800",children:P(g.telefone)})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Data de Nascimento"}),t.jsx("p",{className:"text-gray-800",children:k(g.dataNascimento)})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Data de Cadastro"}),t.jsx("p",{className:"text-gray-800",children:k(g.dataCadastro)})]})]}),(0,t.jsxs)("div",{className:"border-t pt-6",children:[(0,t.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Hist\xf3rico de Estadias (",g.totalStays,")"]}),g.stays.length>0?t.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:g.stays.map((e,s)=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:["Estadia #",g.stays.length-s]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${"ativo"===e.status?"bg-green-100 text-green-800":"finalizado"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Entrada:"}),t.jsx("p",{className:"font-medium text-green-600",children:k(e.dataEntrada)})]}),(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Sa\xedda:"}),t.jsx("p",{className:"font-medium text-red-600",children:k(e.dataSaida)})]})]}),e.observacoes&&(0,t.jsxs)("div",{className:"mt-2",children:[t.jsx("span",{className:"text-gray-600 text-sm",children:"Observa\xe7\xf5es:"}),t.jsx("p",{className:"text-sm text-gray-800",children:e.observacoes})]})]},e.id))}):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma estadia registrada"})]}),(0,t.jsxs)("div",{className:"flex space-x-4 pt-6 border-t",children:[t.jsx(u.default,{href:`/editar/${g.id}`,className:"flex-1",children:(0,t.jsxs)("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[t.jsx(m.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Editar Dados"})]})}),t.jsx(u.default,{href:`/novo-checkin/${g.id}`,className:"flex-1",children:(0,t.jsxs)("button",{className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[t.jsx(h.Z,{className:"h-4 w-4"}),t.jsx("span",{children:"Novo Check-in"})]})})]})]})]})})}),t.jsx(r.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-center",children:t.jsx(u.default,{href:"/",className:"text-blue-600 hover:text-blue-700 font-medium",children:"← Voltar para o in\xedcio"})})]})}function g(){return t.jsx(l.Suspense,{fallback:t.jsx("div",{className:"text-center py-12",children:t.jsx("div",{className:"text-lg text-gray-600",children:"Carregando..."})}),children:t.jsx(y,{})})}},7358:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2685:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},8307:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9819:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},9635:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(2881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5047:(e,s,a)=>{"use strict";var t=a(7389);a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},9856:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`/home/project/app/consultar/page.tsx#default`)},1506:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n,metadata:()=>i});var t=a(9510),l=a(5384),r=a.n(l);a(7272);let i={title:"Pousada Juliana - Sistema de H\xf3spedes",description:"Sistema de cadastro e consulta de h\xf3spedes da Pousada Juliana na Ilha Grande"};function n({children:e}){return t.jsx("html",{lang:"pt-BR",children:t.jsx("body",{className:r().className,children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[t.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-lg",children:"PJ"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Pousada Juliana"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Ilha Grande"})]})]}),(0,t.jsxs)("nav",{className:"hidden md:flex space-x-4",children:[t.jsx("a",{href:"/",className:"text-gray-600 hover:text-blue-600 px-3 py-2 rounded-lg transition-colors",children:"In\xedcio"}),t.jsx("a",{href:"/admin",className:"text-gray-600 hover:text-blue-600 px-3 py-2 rounded-lg transition-colors",children:"\xc1rea Admin"})]})]})})}),t.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:e})]})})})}},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,892,902,434],()=>a(1672));module.exports=t})();