(()=>{var e={};e.id=427,e.ids=[427],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3659:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(2977),t(1506),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),d=t(5231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2977)),"/home/project/app/admin/dashboard/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/home/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/home/project/app/admin/dashboard/page.tsx"],x="/admin/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1877:(e,s,t)=>{Promise.resolve().then(t.bind(t,7087))},9763:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},2814:()=>{},7087:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(326),r=t(7577),l=t(4891),i=t(4061),d=t(2881);let n=(0,d.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var c=t(8307);let o=(0,d.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var x=t(2714),m=t(2685),h=t(9819),p=t(5047),u=t(434);function y(){let e=(0,p.useRouter)(),[s,t]=(0,r.useState)(null),[d,y]=(0,r.useState)([]),[j,g]=(0,r.useState)([]),[b,N]=(0,r.useState)(""),[v,f]=(0,r.useState)(null),[w,k]=(0,r.useState)(!0),[P,S]=(0,r.useState)(!1),E=async()=>{try{await fetch("/api/auth/logout",{method:"POST"}),e.push("/admin")}catch(e){console.error("Erro no logout:",e)}},C=async()=>{S(!0);try{let e=await fetch("/api/guests/export");if(e.ok){let s=await e.blob(),t=window.URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`hospedes-pousada-juliana-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)}else alert("Erro ao exportar dados")}catch(e){console.error("Erro na exporta\xe7\xe3o:",e),alert("Erro ao exportar dados")}finally{S(!1)}},Z=e=>new Date(e).toLocaleDateString("pt-BR"),_=e=>e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),M=e=>e.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3");return w?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"text-lg text-gray-600",children:"Carregando..."})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-800",children:[a.jsx(i.Z,{className:"inline-block mr-3 h-8 w-8 text-red-600"}),"Dashboard Administrativo"]}),(0,a.jsxs)("p",{className:"text-gray-600 mt-1",children:["Bem-vindo, ",s?.login]})]}),(0,a.jsxs)("button",{onClick:E,className:"flex items-center space-x-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[a.jsx(n,{className:"h-4 w-4"}),a.jsx("span",{children:"Sair"})]})]}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total de H\xf3spedes"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:d.length})]}),a.jsx(i.Z,{className:"h-8 w-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Resultados da Busca"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:j.length})]}),a.jsx(c.Z,{className:"h-8 w-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("button",{onClick:C,disabled:P,className:"w-full flex items-center justify-center space-x-2 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold",children:[a.jsx(o,{className:"h-4 w-4"}),a.jsx("span",{children:P?"Exportando...":"Exportar CSV"})]})})]}),a.jsx(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-md p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(c.Z,{className:"h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou CPF...",value:b,onChange:e=>N(e.target.value),className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none"})]})}),(0,a.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-md overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800",children:["Lista de H\xf3spedes (",j.length,")"]})}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"H\xf3spede"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdaLTIMA ESTADIA"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cadastro"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map((e,s)=>(0,a.jsxs)(l.E.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*s},className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.nomeCompleto}),a.jsx("div",{className:"text-sm text-gray-500",children:_(e.cpf)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-900",children:e.email}),a.jsx("div",{className:"text-sm text-gray-500",children:M(e.telefone)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{children:e.lastStay?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[Z(e.lastStay.dataEntrada)," a ",Z(e.lastStay.dataSaida)]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Status: ",e.lastStay.status," â€¢ Total: ",e.totalStays," estadia",1!==e.totalStays?"s":""]})]}):(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Nenhuma estadia registrada"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Nascimento: ",Z(e.dataNascimento)]})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Z(e.dataCadastro)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>f(e),className:"text-blue-600 hover:text-blue-900 p-1",title:"Ver detalhes",children:a.jsx(x.Z,{className:"h-4 w-4"})}),a.jsx(u.default,{href:`/editar/${e.id}`,children:a.jsx("button",{className:"text-yellow-600 hover:text-yellow-900 p-1",title:"Editar",children:a.jsx(m.Z,{className:"h-4 w-4"})})}),a.jsx(u.default,{href:`/novo-checkin/${e.id}`,children:a.jsx("button",{className:"text-green-600 hover:text-green-900 p-1",title:"Novo check-in",children:a.jsx(h.Z,{className:"h-4 w-4"})})})]})})]},e.id))})]}),0===j.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(i.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:b?"Nenhum h\xf3spede encontrado para esta busca":"Nenhum h\xf3spede cadastrado"})]})]})]}),v&&a.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>f(null),children:a.jsx(l.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Detalhes do H\xf3spede"}),a.jsx("button",{onClick:()=>f(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nome Completo"}),a.jsx("p",{className:"text-gray-800 font-semibold",children:v.nomeCompleto})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"CPF"}),a.jsx("p",{className:"text-gray-800",children:_(v.cpf)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),a.jsx("p",{className:"text-gray-800",children:v.email})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefone"}),a.jsx("p",{className:"text-gray-800",children:M(v.telefone)})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Data de Nascimento"}),a.jsx("p",{className:"text-gray-800",children:Z(v.dataNascimento)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Data de Cadastro"}),a.jsx("p",{className:"text-gray-800",children:Z(v.dataCadastro)})]})]}),(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Hist\xf3rico de Estadias (",v.totalStays,")"]}),v.stays.length>0?a.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:v.stays.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-800",children:["Estadia #",v.stays.length-s]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${"ativo"===e.status?"bg-green-100 text-green-800":"finalizado"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:e.status})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Entrada:"}),a.jsx("p",{className:"font-medium text-green-600",children:Z(e.dataEntrada)})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Sa\xedda:"}),a.jsx("p",{className:"font-medium text-red-600",children:Z(e.dataSaida)})]})]}),e.observacoes&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"text-gray-600 text-sm",children:"Observa\xe7\xf5es:"}),a.jsx("p",{className:"text-sm text-gray-800",children:e.observacoes})]})]},e.id))}):a.jsx("p",{className:"text-gray-500 text-center py-4",children:"Nenhuma estadia registrada"})]}),(0,a.jsxs)("div",{className:"flex space-x-4 pt-6 border-t",children:[a.jsx(u.default,{href:`/editar/${v.id}`,className:"flex-1",children:(0,a.jsxs)("button",{className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[a.jsx(m.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Editar Dados"})]})}),a.jsx(u.default,{href:`/novo-checkin/${v.id}`,className:"flex-1",children:(0,a.jsxs)("button",{className:"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[a.jsx(h.Z,{className:"h-4 w-4"}),a.jsx("span",{children:"Novo Check-in"})]})})]})]})]})})})]})}},2714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2685:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},8307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9819:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},4061:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(2881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},5047:(e,s,t)=>{"use strict";var a=t(7389);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},2977:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/home/project/app/admin/dashboard/page.tsx#default`)},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d,metadata:()=>i});var a=t(9510),r=t(5384),l=t.n(r);t(7272);let i={title:"Pousada Juliana - Sistema de H\xf3spedes",description:"Sistema de cadastro e consulta de h\xf3spedes da Pousada Juliana na Ilha Grande"};function d({children:e}){return a.jsx("html",{lang:"pt-BR",children:a.jsx("body",{className:l().className,children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50",children:[a.jsx("header",{className:"bg-white/80 backdrop-blur-sm border-b border-blue-100 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-green-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:"PJ"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Pousada Juliana"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ilha Grande"})]})]}),(0,a.jsxs)("nav",{className:"hidden md:flex space-x-4",children:[a.jsx("a",{href:"/",className:"text-gray-600 hover:text-blue-600 px-3 py-2 rounded-lg transition-colors",children:"In\xedcio"}),a.jsx("a",{href:"/admin",className:"text-gray-600 hover:text-blue-600 px-3 py-2 rounded-lg transition-colors",children:"\xc1rea Admin"})]})]})})}),a.jsx("main",{className:"max-w-6xl mx-auto px-4 py-8",children:e})]})})})}},7272:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,892,902,434],()=>t(3659));module.exports=a})();